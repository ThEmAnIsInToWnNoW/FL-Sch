<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>School Bell Schedule & Countdown</title>
    <style>
        :root {
            --bg-color: #f4f4f9;
            --text-color: #333;
            --header-bg: #800000;
            --header-text: white;
            --card-bg: white;
            --border-color: #ccc;
            --current-period-bg: #d4edda;
            --current-period-text: #155724;
            --next-period-bg: #fff3cd;
            --next-period-text: #856404;
            --button-bg: #800000;
            --button-text: white;
            --current-time-color: #4CAF50;
        }

        .dark-mode {
            --bg-color: #121212;
            --text-color: #e0e0e0;
            --header-bg: #e0e0e0;
            --header-text: #121212;
            --card-bg: #1e1e1e;
            --border-color: #333;
            --current-period-bg: #1c3d25;
            --current-period-text: #a8dadc;
            --next-period-bg: #3e381d;
            --next-period-text: #ffd54f;
            --button-bg: #e0e0e0;
            --button-text: #121212;
            --current-time-color: #66bb6a;
        }

        .blue-theme {
            --bg-color: #e3f2fd;
            --text-color: #0d47a1;
            --header-bg: #1976d2;
            --header-text: white;
            --card-bg: white;
            --border-color: #90caf9;
            --current-period-bg: #bbdefb;
            --current-period-text: #0d47a1;
            --next-period-bg: #fff9c4;
            --next-period-text: #f57f17;
            --button-bg: #1976d2;
            --button-text: white;
            --current-time-color: #1976d2;
        }

        .green-theme {
            --bg-color: #e8f5e9;
            --text-color: #1b5e20;
            --header-bg: #2e7d32;
            --header-text: white;
            --card-bg: white;
            --border-color: #81c784;
            --current-period-bg: #c8e6c9;
            --current-period-text: #1b5e20;
            --next-period-bg: #fff3e0;
            --next-period-text: #e65100;
            --button-bg: #2e7d32;
            --button-text: white;
            --current-time-color: #2e7d32;
        }

        .purple-theme {
            --bg-color: #f3e5f5;
            --text-color: #4a148c;
            --header-bg: #7b1fa2;
            --header-text: white;
            --card-bg: white;
            --border-color: #ce93d8;
            --current-period-bg: #e1bee7;
            --current-period-text: #4a148c;
            --next-period-bg: #fff9c4;
            --next-period-text: #f57f17;
            --button-bg: #7b1fa2;
            --button-text: white;
            --current-time-color: #7b1fa2;
        }

        .orange-theme {
            --bg-color: #fff3e0;
            --text-color: #e65100;
            --header-bg: #f57c00;
            --header-text: white;
            --card-bg: white;
            --border-color: #ffb74d;
            --current-period-bg: #ffe0b2;
            --current-period-text: #e65100;
            --next-period-bg: #c8e6c9;
            --next-period-text: #1b5e20;
            --button-bg: #f57c00;
            --button-text: white;
            --current-time-color: #f57c00;
        }

        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: background-color 0.3s, color 0.3s;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: var(--card-bg);
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border: 1px solid var(--border-color);
        }

        h1 {
            color: var(--header-bg);
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 10px;
        }

        #theme-toggle, #share-button {
            position: fixed;
            top: 20px;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            background-color: var(--button-bg);
            color: var(--button-text);
            transition: 0.3s;
            z-index: 1000;
        }

        #theme-toggle { right: 20px; }
        #share-button { left: 20px; }

        #share-button:hover, #theme-toggle:hover {
            opacity: 0.8;
        }

        .share-popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--card-bg);
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
            z-index: 2000;
            max-width: 500px;
            width: 90%;
        }

        .share-popup.active { display: block; }
        .share-overlay.active { display: block; }

        .share-overlay {
            display: none;
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 1999;
        }

        .share-option {
            display: flex;
            align-items: center;
            padding: 12px;
            margin: 10px 0;
            background: var(--bg-color);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            cursor: pointer;
            transition: transform 0.2s;
            color: var(--text-color);
        }

        .share-option:hover { transform: scale(1.02); }
        .share-option svg { width: 24px; height: 24px; margin-right: 12px; }
        .close-popup { position: absolute; top: 10px; right: 15px; font-size: 24px; background: none; border: none; cursor: pointer; color: var(--text-color); }
    </style>
</head>
<body>
    <button id="share-button">ðŸ“¤ Share</button>
    <button id="theme-toggle">Switch Theme</button>

    <div class="share-overlay" id="share-overlay"></div>
    <div class="share-popup" id="share-popup">
        <button class="close-popup" id="close-popup">&times;</button>
        <h2>Share or Download</h2>
        <p>Share this schedule or download a copy below:</p>

        <div class="share-option" id="copy-link">
            <svg fill="currentColor" viewBox="0 0 24 24"><path d="M3.9,12a5,5,0,0,1,0-7.07L7.76,1.07A5,5,0,0,1,14.83,8.14L13.41,9.55A3,3,0,0,0,8.69,4.83L5.54,8A3,3,0,0,0,9.76,12.2l1.41,1.41A5,5,0,0,1,3.9,12ZM20.1,12a5,5,0,0,0,0,7.07l3.86,3.86A5,5,0,0,0,31.03,15.86L29.62,14.45a3,3,0,0,1-4.72,4.24l-3.15-3.15A3,3,0,0,1,25.31,9.8L23.9,8.39A5,5,0,0,0,20.1,12Z"/></svg>
            <span>Copy Share Link (goofygoobers.xyz)</span>
        </div>

        <div class="share-option" id="download-html">
            <svg fill="currentColor" viewBox="0 0 24 24"><path d="M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"/></svg>
            <span>Download HTML File</span>
        </div>
    </div>

    <div class="container">
        <h1>Current Status</h1>
        <div id="current-time"></div>
        <div id="current-period">Loading schedule...</div>
        <div id="time-left"></div>
    </div>

    <script>
        // Theme toggle
        const themeToggle = document.getElementById('theme-toggle');
        const themes = ['', 'dark-mode', 'blue-theme', 'green-theme', 'purple-theme', 'orange-theme'];
        const themeNames = ['Maroon', 'Dark', 'Blue', 'Green', 'Purple', 'Orange'];
        let currentThemeIndex = 0;
        const body = document.body;

        function loadTheme() {
            const saved = localStorage.getItem('theme');
            if (themes.includes(saved)) {
                currentThemeIndex = themes.indexOf(saved);
                if (saved) body.classList.add(saved);
            }
            themeToggle.textContent = `Theme: ${themeNames[currentThemeIndex]}`;
        }

        themeToggle.addEventListener('click', () => {
            body.classList.remove(...themes.filter(Boolean));
            currentThemeIndex = (currentThemeIndex + 1) % themes.length;
            const newTheme = themes[currentThemeIndex];
            if (newTheme) body.classList.add(newTheme);
            themeToggle.textContent = `Theme: ${themeNames[currentThemeIndex]}`;
            localStorage.setItem('theme', newTheme);
        });

        // Share popup
        const shareButton = document.getElementById('share-button');
        const sharePopup = document.getElementById('share-popup');
        const shareOverlay = document.getElementById('share-overlay');
        const closePopup = document.getElementById('close-popup');
        const copyLink = document.getElementById('copy-link');
        const downloadHtml = document.getElementById('download-html');

        shareButton.addEventListener('click', () => {
            sharePopup.classList.add('active');
            shareOverlay.classList.add('active');
        });
        closePopup.addEventListener('click', () => {
            sharePopup.classList.remove('active');
            shareOverlay.classList.remove('active');
        });
        shareOverlay.addEventListener('click', () => {
            sharePopup.classList.remove('active');
            shareOverlay.classList.remove('active');
        });

        // Copy link functionality
        copyLink.addEventListener('click', () => {
            const link = 'https://goofygoobers.xyz';
            navigator.clipboard.writeText(link).then(() => {
                copyLink.querySelector('span').textContent = 'âœ… Link Copied!';
                setTimeout(() => {
                    copyLink.querySelector('span').textContent = 'Copy Share Link (goofygoobers.xyz)';
                }, 2000);
            });
        });

        // Download HTML
        downloadHtml.addEventListener('click', () => {
            const htmlContent = document.documentElement.outerHTML;
            const blob = new Blob([htmlContent], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'school-schedule.html';
            a.click();
            URL.revokeObjectURL(url);
        });

        loadTheme();
    </script>
</body>
</html>
